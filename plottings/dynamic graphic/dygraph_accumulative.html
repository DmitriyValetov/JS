<html>

<head>
  <script type="text/javascript"
    src="dygraph.js"></script>
  <link rel="stylesheet" src="dygraph.css" />
</head>


  <body>

    <div id="div_g" style="width:600px; height:300px;"></div>
    <meta charset="UTF-8">
    <script type="text/javascript">

            var data = [];
            var t = new Date();
            for (var i = 10; i >= 0; i--) {
              var x = new Date(t.getTime() - i * 1000);
              data.push([x, Math.random()]);
            }
        
            var g1 = new Dygraph(document.getElementById("div_g"), data,
                                {
                                  drawPoints: true,
                                  showRoller: true,
                                  valueRange: [0.0, 1.2],
                                  labels: ['Time', 'Кексы']
                                });
            // It sucks that these things aren't objects, and we need to store state in window.
            window.intervalId = setInterval(function() {
              var x = new Date();  // current time
              var y = Math.random();
              data.push([x, y]);
              g1.updateOptions( { 'file': data } );
            }, 1000);

    </script>


    <div id="graphdiv"></div>

    <script type="text/javascript">
      g2 = new Dygraph(

        // containing div
        document.getElementById("graphdiv"),

        // CSV or path to a CSV file.
        "Date,Temperature\n" +
        "2008-05-07,75\n" +
        "2008-05-08,70\n" +
        "2008-05-09,80\n"

      );
    </script>

  </body>

</html>
